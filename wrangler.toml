name = "nebular-news"
main = ".svelte-kit/cloudflare/_worker.js"
compatibility_date = "2025-01-15"

[assets]
directory = ".svelte-kit/cloudflare"
binding = "ASSETS"

[triggers]
crons = ["*/5 * * * *", "0 * * * *", "30 3 * * *"]

[[d1_databases]]
binding = "DB"
database_name = "nebularnews-prod"
database_id = "f3adc274-12cf-4024-981e-7abe19366191"

[vars]
APP_ENV = "development"
DEFAULT_PROVIDER = "anthropic"
DEFAULT_INGEST_MODEL = "claude-haiku-4-5-20251001"
DEFAULT_CHAT_MODEL = "claude-sonnet-4-6"
DEFAULT_INGEST_REASONING_EFFORT = "low"
DEFAULT_CHAT_REASONING_EFFORT = "medium"
DEFAULT_REASONING_EFFORT = "medium"
MCP_SERVER_NAME = "Nebular News MCP"
MCP_SERVER_VERSION = "0.1.0"
MCP_ALLOWED_ORIGINS = "news.finklea.dev"

[env.staging]
name = "nebular-news-staging"

[[env.staging.d1_databases]]
binding = "DB"
database_name = "nebularnews-staging"
database_id = "REPLACE_WITH_STAGING_D1_DATABASE_ID"

[env.staging.vars]
APP_ENV = "staging"
DEFAULT_PROVIDER = "anthropic"
DEFAULT_INGEST_MODEL = "claude-haiku-4-5-20251001"
DEFAULT_CHAT_MODEL = "claude-sonnet-4-6"
DEFAULT_INGEST_REASONING_EFFORT = "low"
DEFAULT_CHAT_REASONING_EFFORT = "medium"
DEFAULT_REASONING_EFFORT = "medium"
MCP_SERVER_NAME = "Nebular News MCP"
MCP_SERVER_VERSION = "0.1.0"
MCP_ALLOWED_ORIGINS = ""

[env.production]
name = "nebular-news"

[[env.production.d1_databases]]
binding = "DB"
database_name = "nebularnews-prod"
database_id = "f3adc274-12cf-4024-981e-7abe19366191"

[env.production.vars]
APP_ENV = "production"
DEFAULT_PROVIDER = "anthropic"
DEFAULT_INGEST_MODEL = "claude-haiku-4-5-20251001"
DEFAULT_CHAT_MODEL = "claude-sonnet-4-6"
DEFAULT_INGEST_REASONING_EFFORT = "low"
DEFAULT_CHAT_REASONING_EFFORT = "medium"
DEFAULT_REASONING_EFFORT = "medium"
MCP_SERVER_NAME = "Nebular News MCP"
MCP_SERVER_VERSION = "0.1.0"
MCP_ALLOWED_ORIGINS = "news.finklea.dev"
